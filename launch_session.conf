# Kitty Session Configuration for PX4 Simulation
# Usage: kitty --session launch_session.conf

# Set layout to tall (left-right split for two windows)
layout tall
cd /home/kxd/ws/px4sim_ws

# Window 1: PX4 Simulation (Gazebo)
# Running 'make' directly to allow interactive 'pxh>' shell
launch --title "PX4 SITL" bash -c "export PX4_GZ_WORLD=baylands && cd PX4-Autopilot && make px4_sitl gz_x500_depth; exec bash"

# Window 2: Networking (MicroXRCEAgent + Bridge)
launch --title "Agent & Bridge" bash -c "source install/setup.bash && ros2 launch px4_bringup sitl.launch.py enable_px4:=False; exec bash"

# Focus on the simulation window initially
focus_matching_window title:"PX4 SITL"
